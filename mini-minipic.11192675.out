== Summary =====================================================================
 Git branch: alexandre_hoffmann
 Git hash: e23e74a28ba4c315607b2661d4fe77f63fbb5498
 Pipeline id: unknown
 Root dir: /gpfs/users/cexa-hk18/github/mini-minipic
 Build dir: /gpfs/users/cexa-hk18/github/mini-minipic/build
 Selected configuration: gpu-a100
 Compiler: g++
 Fresh: True
 Clean: False
 Save: False
 Unique id: 20260114_11:00:03_unknown_e23e74a28ba4c315607b2661d4fe77f63fbb5498
 Evaluate: True
 Threshold: 1e-10
 Prefix: []
 Env: {}
 Cmake args: ['-DCMAKE_BUILD_TYPE=Release', '-DKokkos_ENABLE_CUDA=ON', '-DKokkos_ARCH_AMPERE80=ON']
 Setups: 
   - thermal with args ''
== Setup thermal ===============================================================
-- Configuration ---------------------------------------------------------------
cmake /gpfs/users/cexa-hk18/github/mini-minipic -DMINI_MINIPIC_SETUP=thermal -DMINI_MINIPIC_IMPLEMENTATION=exercise -DCMAKE_CXX_COMPILER=g++ -DCMAKE_BUILD_TYPE=Release -DKokkos_ENABLE_CUDA=ON -DKokkos_ARCH_AMPERE80=ON
-- The CXX compiler identification is GNU 13.2.0
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /gpfs/softs/spack_0.17/opt/spack/linux-centos7-haswell/gcc-4.8.5/gcc-13.2.0-pzycn2dcss34kqyoxb5nuxj2y375euym/bin/g++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Kokkos provided as a directory: /gpfs/users/cexa-hk18/github/mini-minipic/external/kokkos
-- Setting default Kokkos CXX standard to 20
-- Kokkos version: 5.0.0
-- The project name is: Kokkos
-- Using internal gtest for testing
-- kokkos_launch_compiler (/gpfs/users/cexa-hk18/github/mini-minipic/external/kokkos/bin/kokkos_launch_compiler) is enabled...
-- Kokkos is configured for CMake languages CXX compilation (using NVIDIA version 12.8.61)
-- SERIAL backend is being turned on to ensure there is at least one Host space. To change this, you must enable another host execution space and configure with -DKokkos_ENABLE_SERIAL=OFF.
-- Using -std=c++20 for C++20 standard as feature
-- Built-in Execution Spaces:
--     Device Parallel: Kokkos::Cuda
--     Host Parallel: NoTypeDefined
--       Host Serial: SERIAL
-- 
-- Architectures:
--  AMPERE80
-- Found CUDAToolkit: /gpfs/softs/spack_0.17/opt/spack/linux-centos7-cascadelake/gcc-13.2.0/cuda-12.8.0-ih6qeqpzrlmnyzzeju6pm56uz73g57rk/targets/x86_64-linux/include (found version "12.8.61") 
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Failed
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Using bundled desul_atomics copy (desul/desul@79f928075837ffb5d302aae188e0ec7b7a79ae94)
-- Using bundled mdspan copy (kokkos/mdspan@537053f83150f1b6f7528c1d961866d8628abc2e)
-- Kokkos Backends: SERIAL;CUDA
-- Configuring done (3.5s)
-- Generating done (0.3s)
-- Build files have been written to: /gpfs/users/cexa-hk18/github/mini-minipic/build/thermal
-- Compilation -----------------------------------------------------------------
cmake --build /gpfs/users/cexa-hk18/github/mini-minipic/build/thermal --parallel 4
[  2%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_Command_Line_Parsing.cpp.o
[  8%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_CPUDiscovery.cpp.o
[  8%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_Abort.cpp.o
[  8%] Built target AlwaysCheckGit
[ 11%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_Core.cpp.o
[ 14%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_Error.cpp.o
[ 17%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_ExecPolicy.cpp.o
[ 20%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_HostBarrier.cpp.o
[ 22%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_HostSpace.cpp.o
[ 25%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_HostSpace_deepcopy.cpp.o
[ 28%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_HostThreadTeam.cpp.o
[ 31%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_MemoryPool.cpp.o
[ 34%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_Profiling.cpp.o
[ 37%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_SharedAlloc.cpp.o
[ 40%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_Stacktrace.cpp.o
[ 42%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/impl/Kokkos_hwloc.cpp.o
[ 45%] Building CXX object external/kokkos/CMakeFiles/impl_git_version.dir/generated/Kokkos_Version_Info.cpp.o
[ 48%] Linking CXX static library libimpl_git_version.a
[ 48%] Built target impl_git_version
[ 51%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/Cuda/Kokkos_CudaSpace.cpp.o
[ 54%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/Cuda/Kokkos_Cuda_Instance.cpp.o
[ 57%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/Serial/Kokkos_Serial.cpp.o
[ 60%] Building CXX object external/kokkos/core/src/CMakeFiles/kokkoscore.dir/__/__/tpls/desul/src/Lock_Array_CUDA.cpp.o
[ 62%] Linking CXX static library libkokkoscore.a
[ 62%] Built target kokkoscore
[ 68%] Building CXX object external/kokkos/algorithms/src/CMakeFiles/kokkosalgorithms.dir/KokkosAlgorithms_dummy.cpp.o
[ 68%] Building CXX object external/kokkos/simd/src/CMakeFiles/kokkossimd.dir/Kokkos_SIMD_dummy.cpp.o
[ 71%] Building CXX object external/kokkos/containers/src/CMakeFiles/kokkoscontainers.dir/impl/Kokkos_UnorderedMap_impl.cpp.o
[ 74%] Linking CXX static library libkokkossimd.a
[ 77%] Linking CXX static library libkokkosalgorithms.a
[ 77%] Built target kokkossimd
[ 77%] Built target kokkosalgorithms
[ 80%] Linking CXX static library libkokkoscontainers.a
[ 80%] Built target kokkoscontainers
[ 85%] Building CXX object CMakeFiles/mini-minipic.dir/src/common/Params.cpp.o
[ 85%] Building CXX object CMakeFiles/mini-minipic.dir/src/common/Tools.cpp.o
[ 88%] Building CXX object CMakeFiles/mini-minipic.dir/src/setups/thermal.cpp.o
[ 91%] Building CXX object CMakeFiles/mini-minipic.dir/src/exercise/Managers.cpp.o
[ 94%] Building CXX object CMakeFiles/mini-minipic.dir/src/exercise/Operators.cpp.o
[ 97%] Building CXX object CMakeFiles/mini-minipic.dir/src/main.cpp.o
[100%] Linking CXX executable mini-minipic
[100%] Built target mini-minipic
-- Execution -------------------------------------------------------------------
./mini-minipic
 __________________________________________________

             o          o                              
   _  _  _       _  _                                  
  / |/ |/ |  |  / |/ |  |  _       _       _           
    |  |  |_/|_/ _|_ |_/|_/_)_ __ (_)_ __ (_) ___      
                | '_ ` _ \| | '_ \| | '_ \| |/ __|  
                | | | | | | | | | | | |_) | | (__      
                |_| |_| |_|_|_| |_|_| .__/|_|\___|    
                                    |_|                

 __________________________________________________

 Simulation name: Thermalized plasma for GPU

 Input parameters summary: 

 > Time: 
   - simulation time: 4.87139
   - dt: 0.016238
   - CFL: 0.0180422
   - number of iterations: 300

 > Domain: 
   - min/max in x: 0 1
   - min/max in y: 0 1
   - min/max in z: 0 1
   - Boundary conditions: periodic

   - cells: 32 32 32
   - space step: 0.03125 0.03125 0.03125

 > Species 0: electron
   - mass: 1
   - charge: -1
   - particles per cell: 8
   - temperature: 0.01
   - drift velocity: 0 0 0
   - pos init method: random
   - pos init level: cell

 > Species 1: proton
   - mass: 1836.12
   - charge: 1
   - particles per cell: 8
   - temperature: 0.01
   - drift velocity: 0 0 0
   - pos init method: electron
   - pos init level: cell

 > Memory usage: 
   - EM grid size: 307.062 Kb
   - Current grid size: 364.5 Kb
   - Total grid size: 2935.88 Kb

 > Timers: 
   - save timers period: 301
   - save timers start: 0
   - Bufferize timers: 1

 > General diag properties: 
   - output directory: diags
   - cloud output period: 50
   - field output period: 50
   - scalar output period: 10

 > Particle binning: 
   - diag_w_gamma on species 0 1 
     * axis 0: gamma [0, 0, 32]
     * format: binary
     * output period: 50
   - diag_x_y_z_d on species 0 1 
     * axis 0: x [0, 1, 32]
     * axis 1: y [0, 1, 32]
     * axis 2: z [0, 1, 32]
     * format: vtk
     * output period: 50
   - diag_px_py_pz_d on species 0 1 
     * axis 0: px [0, 0, 32]
     * axis 1: py [0, 0, 32]
     * axis 2: pz [0, 0, 32]
     * format: vtk
     * output period: 50

  Kokkos Version: 5.0.0
Compiler:
  KOKKOS_COMPILER_GNU: 1320
  KOKKOS_COMPILER_NVCC: 1280
Architecture:
  CPU architecture: none
  Default Device: Cuda
  GPU architecture: AMPERE80
  platform: 64bit
Atomics:
  desul atomics version: 79f928075837ffb5d302aae188e0ec7b7a79ae94
View:
  mdspan: enabled
  mdspan version: 537053f83150f1b6f7528c1d961866d8628abc2e
Vectorization:
  KOKKOS_ENABLE_PRAGMA_IVDEP: no
  KOKKOS_ENABLE_PRAGMA_LOOPCOUNT: no
  KOKKOS_ENABLE_PRAGMA_UNROLL: no
  KOKKOS_ENABLE_PRAGMA_VECTOR: no
Memory:
Options:
  KOKKOS_ENABLE_ASM: yes
  KOKKOS_ENABLE_CXX20: yes
  KOKKOS_ENABLE_CXX23: no
  KOKKOS_ENABLE_CXX26: no
  KOKKOS_ENABLE_DEBUG_BOUNDS_CHECK: no
  KOKKOS_ENABLE_HWLOC: no
  KOKKOS_ENABLE_LIBDL: yes
Host Serial Execution Space:
  KOKKOS_ENABLE_SERIAL: yes

Serial Runtime Configuration:
Device Execution Space:
  KOKKOS_ENABLE_CUDA: yes
Cuda Options:
  KOKKOS_ENABLE_CUDA_RELOCATABLE_DEVICE_CODE: no
  KOKKOS_ENABLE_CUDA_UVM: no
  KOKKOS_ENABLE_IMPL_CUDA_MALLOC_ASYNC: no

Cuda Runtime Configuration:
macro  KOKKOS_ENABLE_CUDA      : defined
macro  CUDA_VERSION          : 12080 = version 12.8
Kokkos::Cuda[ 0 ] NVIDIA A100-SXM4-40GB : Selected
  Capability: 8.0
  Total Global Memory: 39.39 GiB
  Shared Memory per Block: 48 KiB
  Can access system allocated memory: 0
    via Address Translation Service: 0
 __________________________________________________

 Initialization

 Field grids: 4.58047 Mb

 Species electron
 - Initialized particles: 262144
 - Total kinetic energy: 1.4998e-07
 - Memory footprint: 28 Mb
 Species proton
 - Initialized particles: 262144
 - Total kinetic energy: 1.50098e-07
 - Memory footprint: 28 Mb

 -------------------------------- |
 Check sum for fields             |
 -------------------------------- |
 Field  | Host       | Device     |
 -------------------------------- |
 Ex     |  0.000e+00 |  0.000e+00 | 
 Ey     |  0.000e+00 |  0.000e+00 | 
 Ez     |  0.000e+00 |  0.000e+00 | 
 Bx     |  0.000e+00 |  0.000e+00 | 
 By     |  0.000e+00 |  0.000e+00 | 
 Bz     |  0.000e+00 |  0.000e+00 | 

 -------------------------------- |
 Check sum for particles          |
 -------------------------------- |
 vector | Host       | Device     |
 -------------------------------- |
 weight |  2.000e-05 |  2.000e-05 | 
      x |  2.622e+05 |  2.622e+05 | 
      y |  2.621e+05 |  2.621e+05 | 
      z |  2.621e+05 |  2.621e+05 | 
     mx | -4.180e-02 | -4.180e-02 | 
     my | -1.067e+00 | -1.067e+00 | 
     mz |  5.291e+00 |  5.291e+00 | 
     Ex |  0.000e+00 |  0.000e+00 | 
     Ey |  0.000e+00 |  0.000e+00 | 
     Ez |  0.000e+00 |  0.000e+00 | 
     Bx |  0.000e+00 |  0.000e+00 | 
     By |  0.000e+00 |  0.000e+00 | 
     Bz |  0.000e+00 |  0.000e+00 | 

 #########    START COMPUTE    ############
 -----------------------------------------------------|
           |       |           | Elapsed  | Remaining |
 Iteration |    %  | Particles | Time (s) | Time (s)  |
 ----------|-------|-----------|----------|-----------|
        50 |  16.7 |    524288 | 4.34e+00 |  2.17e+01 | 
       100 |  33.3 |    524288 | 8.66e+00 |  1.73e+01 | 
       150 |  50.0 |    524288 | 1.30e+01 |  1.30e+01 | 
       200 |  66.7 |    524288 | 1.74e+01 |  8.68e+00 | 
       250 |  83.3 |    524288 | 2.17e+01 |  4.34e+00 | 
       300 | 100.0 |    524288 | 2.60e+01 |  0.00e+00 | 
#########    END COMPUTE    ############


 ---------------------------------------------- |
 Global timers                                  |
 ---------------------------------------------- |
            code part |  time (s)  | percentage |
 ---------------------|------------|----------- |
       initialization |   0.212750 |     0.81 % |
            main loop |  26.006762 |    99.19 % |
 ---------------------------------------------- |
 Main loop                                      |
 ---------------------------------------------- |
            code part |  time (s)  | percentage |
 ---------------------|------------|----------- |
       PIC iterations |  24.294437 |    92.33 % |
          Diagnostics |   2.019246 |     7.67 % |
-- Validation ------------------------------------------------------------------
mini-validate --path /gpfs/users/cexa-hk18/github/mini-minipic/build/thermal --setup thermal --threshold 1e-10
 > Checking scalars
    - Initial scalar for species 0: 0, 262144.0, 1.499802569489301e-07
    - Initial scalar for species 1: 0, 262144.0, 1.500982120183951e-07
    - Final scalar for species 0: 300, 262144.0, 1.499801677227092e-07
    - Final scalar for species 1: 300, 262144.0, 1.500981415474697e-07
    - Field values at final iteration 300: 
 8.707252968548583e-16, 8.187202771374718e-16, 8.1337785165636e-16, 1.014322708204904e-15, 2.738517219101241e-15, 2.932533327560372e-15
 > Checking gamma spectrums
    - For species 0: [np.float64(1.0150306498218023e-05), np.float64(1.0150305070953287e-05), np.float64(1.015031026575343e-05), np.float64(1.0150307734880672e-05), np.float64(1.0150311192601487e-05), np.float64(1.0150308434741582e-05)]
    - For species 1: [np.float64(1.000157589162598e-05), np.float64(1.0001575891523015e-05), np.float64(1.000157589136796e-05), np.float64(1.000157589118226e-05), np.float64(1.0001575890954698e-05), np.float64(1.0001575890766535e-05)]
 > Checking initial cloud file
   - For Species 0: 131076.16027212347, 131072.115340914, 131069.5246495383, 21014.376991466852, 21028.564131718493, 21014.480007866434
   - For Species 1: 131076.16027212347, 131072.115340914, 131069.5246495383, 488.339374560899, 488.375137441201, 488.2761036710392
 > Checking final cloud file
    - For Species 0: 131059.99739212362, 131023.15182992321, 131142.1355539146, 21014.42145328788, 21028.616998630852, 21014.45806797341
    - For Species 1: 131100.95742997798, 130988.17625004012, 131067.20585065623, 488.34037148012436, 488.373555886603, 488.2763737032678
Setup thermal tested with success
